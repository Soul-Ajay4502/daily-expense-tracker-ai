(self.webpackChunkdaily_expense_tracker=self.webpackChunkdaily_expense_tracker||[]).push([[625],{7089:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>de});var i=t(5043),a=t(5218),s=t(8903),r=t(1906),l=t(7561),o=t(9190),d=t(9362),c=t(8988),p=t(5865),x=t(9650),u=t(1596),h=t(1806),m=t(4882),A=t(8076),g=t(39),j=t(3460),y=t(3003),v=t(446),b=t.n(v),f=t(579);const T=e=>{let{filter:n}=e;const{items:t,status:a}=(0,y.d4)((e=>e.expenses)),[s,r]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const e=b()();let i=t;"day"===n?i=t.filter((n=>{const t=n.date?n.date.toDate?n.date.toDate():new Date(n.date):null;return t&&b()(t).isSame(e,"day")})):"week"===n?i=t.filter((n=>{const t=n.date?n.date.toDate?n.date.toDate():new Date(n.date):null;return t&&b()(t).isSame(e,"week")})):"month"===n&&(i=t.filter((n=>{const t=n.date?n.date.toDate?n.date.toDate():new Date(n.date):null;return t&&b()(t).isSame(e,"month")}))),r(i)}),[n,t]),"loading"===a?(0,f.jsx)(p.A,{children:"Loading..."}):(0,f.jsx)(x.A,{component:u.A,style:{marginTop:"20px"},children:(0,f.jsxs)(h.A,{children:[(0,f.jsx)(m.A,{children:(0,f.jsxs)(A.A,{children:[(0,f.jsx)(g.A,{children:"Date (MM-DD-YY)"}),(0,f.jsx)(g.A,{children:"Income Type"}),(0,f.jsx)(g.A,{children:"Income Amount"}),(0,f.jsx)(g.A,{children:"Expense Type"}),(0,f.jsx)(g.A,{children:"Expense Amount"})]})}),(0,f.jsxs)(j.A,{children:[s.map((e=>(0,f.jsxs)(A.A,{children:[(0,f.jsx)(g.A,{children:b()(e.date.toDate?e.date.toDate():new Date(e.date)).format("MM/DD/YYYY")}),(0,f.jsx)(g.A,{children:e.incomeType||"-"}),(0,f.jsx)(g.A,{children:e.incomeAmount||"-"}),(0,f.jsx)(g.A,{children:e.expenseType||"-"}),(0,f.jsx)(g.A,{children:e.expenseAmount||"-"})]},e.id))),0===s.length&&(0,f.jsx)(A.A,{children:(0,f.jsx)(g.A,{colSpan:5,align:"center",children:"No records found."})})]})]})})};var w=t(35),S=t(6600),I=t(5316),R=t(5795),C=t(9347),F=t(2019),D=t(3516),$=t(899);const k=["Salary","Bonus","Investment","Rental Income","Other"],E=["Rent","Food","Travel","Cosmetics","Bills","Other"],M=e=>{let{open:n,handleClose:t}=e;const i=(0,y.wA)(),{user:a}=(0,y.d4)((e=>e.auth)),l=$.Ik().shape({date:$.p6().required("Date is required."),incomeType:$.Yj().required("Income type is required."),incomeAmount:$.ai().required().typeError("Must be a number.").positive("Amount must be positive.").max(999999999,"Amount too large."),expenseType:$.Yj().nullable(),expenseAmount:$.ai().nullable().typeError("Must be a number.").positive("Amount must be positive.").max(999999999,"Amount too large.")}),o={date:b()().format("YYYY-MM-DD"),incomeType:"",incomeAmount:"",expenseType:"",expenseAmount:""};return(0,f.jsxs)(w.A,{open:n,onClose:t,children:[(0,f.jsx)(S.A,{children:"Add Income/Expense"}),(0,f.jsx)(I.A,{children:(0,f.jsx)(D.l1,{initialValues:o,validationSchema:l,onSubmit:(e,n)=>{let{resetForm:s}=n;const r={userId:a.uid,date:new Date(e.date),incomeType:e.incomeType,incomeAmount:e.incomeAmount?parseFloat(e.incomeAmount):0,expenseType:e.expenseType||null,expenseAmount:e.expenseAmount?parseFloat(e.expenseAmount):0};i((0,F.k5)(r)),t(),s()},children:e=>{let{handleChange:n,setFieldValue:i,values:a,errors:l,touched:o}=e;return(0,f.jsxs)(D.lV,{children:[(0,f.jsxs)(s.Ay,{container:!0,spacing:2,style:{marginTop:"10px"},children:[(0,f.jsx)(s.Ay,{item:!0,xs:12,children:(0,f.jsx)(D.D0,{as:R.A,label:"Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},error:o.date&&!!l.date,helperText:o.date&&(0,f.jsx)(D.Kw,{name:"date"})})}),(0,f.jsx)(s.Ay,{item:!0,xs:6,children:(0,f.jsx)(D.D0,{as:R.A,select:!0,label:"Income Type",name:"incomeType",fullWidth:!0,onChange:n,helperText:o.incomeType&&(0,f.jsx)(D.Kw,{name:"incomeType"}),children:k.map((e=>(0,f.jsx)(c.A,{value:e,children:e},e)))})}),(0,f.jsx)(s.Ay,{item:!0,xs:6,children:(0,f.jsx)(D.D0,{as:R.A,label:"Income Amount",name:"incomeAmount",fullWidth:!0,error:o.incomeAmount&&!!l.incomeAmount,helperText:o.incomeAmount&&(0,f.jsx)(D.Kw,{name:"incomeAmount"}),disabled:!a.incomeType,title:a.incomeType?"":"Select any Income Type"})}),(0,f.jsx)(s.Ay,{item:!0,xs:6,children:(0,f.jsx)(D.D0,{as:R.A,select:!0,label:"Expense Type",name:"expenseType",fullWidth:!0,onChange:n,helperText:o.expenseType&&(0,f.jsx)(D.Kw,{name:"expenseType"}),children:E.map((e=>(0,f.jsx)(c.A,{value:e,children:e},e)))})}),(0,f.jsx)(s.Ay,{item:!0,xs:6,children:(0,f.jsx)(D.D0,{as:R.A,label:"Expense Amount",name:"expenseAmount",fullWidth:!0,error:o.expenseAmount&&!!l.expenseAmount,helperText:o.expenseAmount&&(0,f.jsx)(D.Kw,{name:"expenseAmount"}),disabled:!a.expenseType,title:a.expenseType?"":"Select any Expense Type"})})]}),(0,f.jsxs)(C.A,{children:[(0,f.jsx)(r.A,{onClick:t,color:"secondary",children:"Cancel"}),(0,f.jsx)(r.A,{type:"submit",color:"primary",variant:"contained",children:"Add"})]})]})}})})]})};var Y=t(7353),L=t(1637),N=t(108),W=t(2291),K=t(2185),O=t(6026),G=t(6150),z=t(8643),B=t(163),P=t(4240),_=t(7869),q=t(1327),Z=t(6065);const V=()=>{const{items:e}=(0,y.d4)((e=>e.expenses)),n=(0,y.wA)(),{reportData:t,expenseData:a,incomeTotal:s,expenseTotal:l}=(0,y.d4)((e=>e.report)),[o,d]=(0,i.useState)(!1);return(0,f.jsxs)(u.A,{style:{padding:"20px",marginTop:"20px"},children:[(0,f.jsx)(p.A,{variant:"h2",textAlign:"center",borderRadius:"20px",sx:{boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"},children:"Financial Report"}),(0,f.jsx)(r.A,{variant:"contained",color:"primary",onClick:()=>{d(!0);const t=e.reduce(((e,n)=>e+(n.incomeAmount||0)),0),i=e.reduce(((e,n)=>e+(n.expenseAmount||0)),0),a=t-i,s=e.reduce(((e,n)=>(n.expenseType&&(e[n.expenseType]=(e[n.expenseType]||0)+(n.expenseAmount||0)),e)),{}),r=Object.entries(s).map((e=>{let[n,t]=e;return{name:n,value:t}})),l=[{label:"Expense ",value:""},{label:"Total Income",value:`\u20b9${t.toFixed(2)}`},{label:"Total Expenses",value:`\u20b9${i.toFixed(2)}`},{label:"Net Savings",value:`\u20b9${a<0?0:a.toFixed(2)}`},{label:"Net Loss",value:`\u20b9${a>0?0:a.toFixed(2)}`},{label:"Expenses by Category",value:""},...Object.entries(s).map((e=>{let[n,t]=e;return{label:n,value:`\u20b9${t.toFixed(2)}`}})),{label:"Recommendations",value:""},...a<0?[{label:"1. Consider reducing discretionary spending to improve net savings.",value:""},{label:"2. Review recurring expenses and identify potential savings.",value:""}]:[{label:"1. Maintain current spending habits to sustain savings.",value:""},{label:"2. Consider investing surplus income for better financial growth.",value:""}]];n((0,Z.jL)(l)),n((0,Z.Zi)(r)),n((0,Z._Z)(t)),n((0,Z.PN)(i)),d(!1)},style:{marginTop:"10px"},children:"Generate Report"}),o&&(0,f.jsx)(Y.A,{position:"fixed",top:"0",left:"0",width:"100%",bgcolor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,f.jsx)(L.A,{style:{marginLeft:"10px"}})}),t.length>0&&(0,f.jsxs)(Y.A,{style:{marginTop:"20px"},children:[(0,f.jsx)(Y.A,{sx:{borderRadius:1,p:2,bgcolor:"#ede8eb"},children:t.map(((e,n)=>(0,f.jsxs)(p.A,{variant:"body1",style:{marginBottom:"10px",fontWeight:""===e.value?"bold":"normal"},children:[e.label,e.value&&`: ${e.value}`]},n)))}),(0,f.jsx)("h2",{children:"Chart Representations"}),(0,f.jsxs)(Y.A,{sx:{borderRadius:1,p:2,bgcolor:"#ede8eb"},children:[(0,f.jsx)(N.u,{width:"100%",height:300,children:(0,f.jsxs)(W.E,{data:[{name:"Total Income",value:s},{name:"Total Expenses",value:l}],margin:{top:20,right:30,left:20,bottom:5},children:[(0,f.jsx)(K.W,{dataKey:"name",tick:{color:"#000",fontSize:14,fontWeight:"bold",fill:"#4a4a4a"}}),(0,f.jsx)(O.h,{tick:{color:"#000",fontSize:14,fontWeight:"bold",fill:"#4a4a4a"}}),(0,f.jsx)(G.m,{}),(0,f.jsx)(z.y,{dataKey:"value",fill:"#8884d8"})]})}),(0,f.jsx)(N.u,{width:"100%",height:300,children:(0,f.jsxs)(B.r,{children:[(0,f.jsx)(P.F,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",children:a.map(((e,n)=>(0,f.jsx)(_.f,{fill:`#${Math.floor(16777215*Math.random()).toString(16)}`},`cell-${n}`)))}),(0,f.jsx)(G.m,{}),(0,f.jsx)(q.s,{})]})})]})]})]})};var Q=t(2211),H=t(2194);const J=()=>{var e;const n=(0,y.wA)(),{items:t}=(0,y.d4)((e=>e.expenses)),{aiReportData:a,hasRisk:s}=(0,y.d4)((e=>e.aiReport)),[l,o]=(0,i.useState)(""),[d,c]=(0,i.useState)(!1),x=async e=>{const t=(e=>{const n=e.reduce(((e,n)=>e+(n.incomeAmount||0)),0),t=e.reduce(((e,n)=>e+(n.expenseAmount||0)),0);return{incomeTotal:n,expenseTotal:t,netSavings:n-t,expenseCategories:e.reduce(((e,n)=>(n.expenseType&&(e[n.expenseType]=(e[n.expenseType]||0)+(n.expenseAmount||0)),e)),{})}})(e),i=(()=>{const e=H.ilg();return e.add(H.ZFI.dense({inputShape:[2],units:16,activation:"relu"})),e.add(H.ZFI.dense({units:8,activation:"relu"})),e.add(H.ZFI.dense({units:1,activation:"sigmoid"})),e.compile({optimizer:"adam",loss:"binaryCrossentropy",metrics:["accuracy"]}),e})();await(async(e,n)=>{const{incomeTotal:t,expenseTotal:i}=n,a=H.KtR([[t,i]]),s=H.KtR([[.5]]);return await e.fit(a,s,{epochs:100,batchSize:1}),e})(i,t);const a=i.predict(H.KtR([[t.incomeTotal,t.expenseTotal]])).arraySync();return n((0,Q.Im)(t.netSavings<0)),`Net Savings Prediction: ${t.netSavings>0?"Positive":"Negative"} \n\n      Your estimated savings trend is: ${a[0][0]>.5?"Favorable":"Needs Improvement"}.\n\n      Consider reviewing your expenses in categories such as ${Object.keys(t.expenseCategories).join(", ")}.`};return(0,f.jsxs)(u.A,{style:{padding:"20px",marginTop:"20px"},children:[(0,f.jsx)(p.A,{variant:"h2",textAlign:"center",borderRadius:"20px",sx:{boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"},children:"AI-Powered Financial Report"}),(0,f.jsx)(r.A,{variant:"contained",color:"primary",onClick:async()=>{c(!0);try{const e=await x(t);o(e);const i=t.reduce(((e,n)=>e+(n.incomeAmount||0)),0),a=t.reduce(((e,n)=>e+(n.expenseAmount||0)),0),s=i-a,r=t.reduce(((e,n)=>(n.expenseType&&(e[n.expenseType]=(e[n.expenseType]||0)+(n.expenseAmount||0)),e)),{}),l=[{label:"Expense ",value:""},{label:"Total Income",value:`\u20b9${i.toFixed(2)}`},{label:"Total Expenses",value:`\u20b9${a.toFixed(2)}`},{label:"Net Savings",value:`\u20b9${s<0?0:s.toFixed(2)}`},{label:"Net Loss",value:`\u20b9${s>0?0:s.toFixed(2)}`},{label:"Expenses by Category",value:""},...Object.entries(r).map((e=>{let[n,t]=e;return{label:n,value:`\u20b9${t.toFixed(2)}`}}))];n((0,Q.xt)({report:e,content:l})),n((0,Q.sj)(i)),n((0,Q.Dm)(a))}catch(e){console.error("Error generating report:",e),o("Failed to generate report. Please try again later.")}finally{c(!1)}},style:{marginTop:"10px"},children:"Generate AI Report"}),d&&(0,f.jsx)(Y.A,{position:"fixed",top:"0",left:"0",width:"100%",bgcolor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,f.jsx)(L.A,{style:{marginLeft:"10px"}})}),l&&(0,f.jsx)(Y.A,{variant:"h6",bgcolor:null===s?"white":s?"#f5252f":"#28de4f",position:"relative",sx:{borderRadius:1,px:4,py:8,overflow:"hidden",whiteSpace:"pre-line",mt:2},children:l}),(null===(e=a.report)||void 0===e?void 0:e.length)>0&&(0,f.jsxs)(p.A,{variant:"body2",style:{marginTop:"20px"},children:["Last Generated Report:",(0,f.jsxs)(Y.A,{sx:{borderRadius:1,p:2,bgcolor:null===s?"white":s?"#f5252f":"#28de4f"},children:[null!==s&&(0,f.jsx)(p.A,{variant:"h4",textAlign:"center",children:s?"Need Attension":"Good"}),a.content.map(((e,n)=>(0,f.jsxs)(p.A,{variant:"body1",style:{marginBottom:"10px",fontWeight:""===e.value?"bold":"normal"},children:[e.label,e.value&&`: ${e.value}`]},n))),!l&&(0,f.jsxs)(Y.A,{variant:"h6",bgcolor:"#58b9ed",position:"relative",sx:{borderRadius:1,px:2,py:8,overflow:"hidden",whiteSpace:"pre-line"},children:[(0,f.jsx)(Y.A,{position:"absolute",variant:"h6",bgcolor:"violet",sx:{left:"-5px",top:"20px",borderRadius:2,px:2,width:"120px",py:"4px"},children:"Model Suggestion"}),null===a||void 0===a?void 0:a.report]})]})]})]})};var U=t(6240),X=t(2314),ee=t(3625),ne=t(4056);function te(e){const{children:n,value:t,index:i,...a}=e;return(0,f.jsx)("div",{role:"tabpanel",hidden:t!==i,id:`full-width-tabpanel-${i}`,"aria-labelledby":`full-width-tab-${i}`,...a,children:t===i&&(0,f.jsx)(Y.A,{children:(0,f.jsx)(p.A,{children:n})})})}function ie(e){return{id:`full-width-tab-${e}`,"aria-controls":`full-width-tabpanel-${e}`}}function ae(e){let{Report:n,AiReport:t,OpenAiReport:a}=e;const s=(0,U.A)(),[r,l]=i.useState(0);return(0,f.jsxs)(Y.A,{sx:{bgcolor:"background.paper",width:"100%"},children:[(0,f.jsx)(X.A,{position:"static",children:(0,f.jsxs)(ee.A,{value:r,onChange:(e,n)=>{l(n)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,f.jsx)(ne.A,{label:"Financial Report",...ie(0)}),(0,f.jsx)(ne.A,{label:"AI Report (custom model)",...ie(1)}),(0,f.jsx)(ne.A,{label:"openAI Report",...ie(2)})]})}),(0,f.jsx)(te,{value:r,index:0,dir:s.direction,children:(0,f.jsx)(n,{})}),(0,f.jsx)(te,{value:r,index:1,dir:s.direction,children:(0,f.jsx)(t,{})}),(0,f.jsx)(te,{value:r,index:2,dir:s.direction,children:(0,f.jsx)(a,{})})]})}var se=t(5263);const re=()=>(0,f.jsx)(X.A,{position:"static",children:(0,f.jsx)(se.A,{children:(0,f.jsx)(p.A,{variant:"h6",style:{flexGrow:1},children:"Developed by Ajayraj"})})});var le=t(6213);const oe=()=>{const[e,n]=(0,i.useState)("Your report content"),{items:t}=(0,y.d4)((e=>e.expenses)),[a,s]=(0,i.useState)(""),[l,o]=(0,i.useState)(!1),[d,c]=(0,i.useState)(null);return(0,f.jsxs)(u.A,{style:{padding:"20px",marginTop:"20px"},children:[(0,f.jsx)(p.A,{variant:"h2",textAlign:"center",borderRadius:"20px",sx:{boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"},children:"openAI-Powered Financial Report"}),"      ",(0,f.jsx)(r.A,{variant:"contained",color:"primary",onClick:async()=>{o(!0),c(null);try{const e=await(async e=>{try{const n=await le.A.post("https://api-inference.huggingface.co/models/meta-llama/Meta-Llama-3-8B-Instruct",{inputs:e},{headers:{Authorization:"Bearer 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","Content-Type":"application/json"}});return n.data.length>0?n.data[0].generated_text:"No response from AI"}catch(d){throw console.error("Error fetching AI response:",d),new Error("Failed to fetch AI response")}})((()=>{const e=t.reduce(((e,n)=>e+(n.incomeAmount||0)),0),n=t.reduce(((e,n)=>e+(n.expenseAmount||0)),0),i=e-n,a=t.reduce(((e,n)=>(n.expenseType&&(e[n.expenseType]=(e[n.expenseType]||0)+(n.expenseAmount||0)),e)),{});return`\n                I need a financial report based on the following data with your suggessions to improve saving habbit please give full details:\n\n                1. **Total Income:** \u20b9${e.toFixed(2)}\n                2. **Total Expenses:** \u20b9${n.toFixed(2)}\n                3. **Net Savings:** \u20b9${i<0?0:i.toFixed(2)}\n                4. **Net Loss:** \u20b9${i>0?0:i.toFixed(2)}\n                5. **Expenses by Category:**\n                ${Object.entries(a).map((e=>{let[n,t]=e;return`   - ${n}: \u20b9${t.toFixed(2)}`})).join("\n")}\n                6. **Recommendations:**\n                ${i<0?'   - Consider reducing discretionary spending to improve net savings.\n   - Review recurring expenses and identify potential savings."cut"':'   - Maintain current spending habits to sustain savings.\n   - Consider investing surplus income for better financial growth."cut" '}\n                `})()),n=e.split('"cut"')[1].trim();s(n)}catch(e){c(e.message)}finally{o(!1)}},disabled:l,style:{marginTop:"10px"},children:"Generate AI Report"}),l&&(0,f.jsx)(Y.A,{position:"fixed",top:"0",left:"0",width:"100%",bgcolor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,f.jsx)(L.A,{style:{marginLeft:"10px"}})}),a&&(0,f.jsxs)(Y.A,{sx:{marginTop:"20px",padding:"10px",backgroundColor:"#f0f0f0",borderRadius:"4px"},children:[(0,f.jsx)(p.A,{variant:"h6",children:"AI Suggestions:"}),(0,f.jsx)(p.A,{whiteSpace:"pre-line",children:a})]}),d&&(0,f.jsxs)(p.A,{variant:"body1",color:"error",style:{marginTop:"10px"},children:["Error: ",d]})]})},de=()=>{const e=(0,y.wA)(),{user:n}=(0,y.d4)((e=>e.auth)),{items:t,status:p}=(0,y.d4)((e=>e.expenses)),[x,u]=(0,i.useState)(!1),[h,m]=(0,i.useState)("all");(0,i.useEffect)((()=>{n&&e((0,F.Yi)(n.uid))}),[e,n]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(a.A,{maxWidth:"lg",style:{marginTop:"20px",marginBottom:"20px",minHeight:"90vh"},children:[(0,f.jsxs)(s.Ay,{container:!0,spacing:3,style:{paddingTop:"14%"},children:[(0,f.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,f.jsx)(r.A,{variant:"contained",color:"primary",onClick:()=>{u(!0)},children:"Add Income/Expense"}),(0,f.jsxs)(l.A,{size:"small",style:{marginLeft:"20px",minWidth:120},children:[(0,f.jsx)(o.A,{id:"filter-label",children:"Filter"}),(0,f.jsxs)(d.A,{labelId:"filter-label",value:h,label:"Filter",onChange:e=>{m(e.target.value)},children:[(0,f.jsx)(c.A,{value:"all",children:"All"}),(0,f.jsx)(c.A,{value:"day",children:"Day(Today)"}),(0,f.jsx)(c.A,{value:"week",children:"Week(This Week)"}),(0,f.jsx)(c.A,{value:"month",children:"Month(This Month)"})]})]})]}),(0,f.jsx)(s.Ay,{item:!0,xs:12,children:(0,f.jsx)(T,{filter:h})}),t.length>0&&(0,f.jsx)(s.Ay,{item:!0,xs:12,children:(0,f.jsx)(ae,{Report:V,AiReport:J,OpenAiReport:oe})})]}),(0,f.jsx)(M,{open:x,handleClose:()=>u(!1)})]}),(0,f.jsx)(re,{})]})}},5817:()=>{},8590:()=>{},4530:()=>{},8108:()=>{},551:()=>{},1234:()=>{}}]);
//# sourceMappingURL=625.40fd3fca.chunk.js.map